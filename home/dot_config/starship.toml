[custom.jj]
command = "prompt"
format = "\n$output\n"
ignore_timeout = true
shell = ["starship-jj", "--ignore-working-copy", "starship"]
use_stdin = false
when = true

# [custom.jj]
# description = "The current jj status"
# when = "jj --ignore-working-copy root"
# symbol = "ðŸ¥‹ "
# command = '''
# jj log --revisions @ --no-graph --ignore-working-copy --color always --limit 1 --template '
#   separate(" ",
#     change_id.shortest(4),
#     bookmarks,
#     "|",
#     concat(
#       if(conflict, "ðŸ’¥"),
#       if(divergent, "ðŸš§"),
#       if(hidden, "ðŸ‘»"),
#       if(immutable, "ðŸ”’"),
#     ),
#     raw_escape_sequence("\x1b[1;32m") ++ if(empty, "(empty)"),
#     raw_escape_sequence("\x1b[1;32m") ++ coalesce(
#       truncate_end(29, description.first_line(), "â€¦"),
#       "(no description set)",
#     ) ++ raw_escape_sequence("\x1b[0m"),
#   )
# '
# '''

# [git_status]
# disabled = true

# [custom.git_status]
# when = "! jj --ignore-working-copy root"
# command = "starship module git_status"
# style = "" # This disables the default "(bold green)" style
# description = "Only show git_status if we're not in a jj repo"

# [git_commit]
# disabled = true

# [custom.git_commit]
# when = "! jj --ignore-working-copy root"
# command = "starship module git_commit"
# style = ""
# description = "Only show git_commit if we're not in a jj repo"

# [git_metrics]
# disabled = true

# [custom.git_metrics]
# when = "! jj --ignore-working-copy root"
# command = "starship module git_metrics"
# description = "Only show git_metrics if we're not in a jj repo"
# style = ""

# [git_branch]
# disabled = true

# [custom.git_branch]
# when = "! jj --ignore-working-copy root"
# command = "starship module git_branch"
# description = "Only show git_branch if we're not in a jj repo"
# style = ""
